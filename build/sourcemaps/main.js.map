{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../js/main.js","sourcesContent":["$(function() {\r\n\r\n    $(document).scroll(function() {\r\n        let scroll = $(window).scrollTop();\r\n        if (scroll >= 300) {\r\n            $('.anchor-up').addClass('active');\r\n        } else {\r\n            $('.anchor-up').removeClass('active');\r\n        }\r\n\r\n    });\r\n\r\n    $(window).on('load', function() {\r\n        let phones = [\r\n            { 'mask': '+7 \\\\ \\\\ ###-###-##-##' }\r\n        ];\r\n\r\n        $('input[type=tel]').inputmask({\r\n            mask: phones,\r\n            greedy: false,\r\n            definitions: {\r\n                '#': {\r\n                    validator: '[0-9]',\r\n                    cardinality: 1\r\n                }\r\n            }\r\n        });\r\n    });\r\n\r\n    $('select').niceSelect();\r\n\r\n    $(\"a.anchor-up\").click(function() {\r\n        elementClick = $(this).attr(\"href\")\r\n        destination = $(elementClick).offset().top;\r\n        $(\"html:not(:animated),body:not(:animated)\").animate({ scrollTop: destination }, 700);\r\n        return false;\r\n    });\r\n\r\n    $('#hamburger-icon').click(function() {\r\n        $(this).toggleClass('active');\r\n        if ($(this).hasClass('active')) {\r\n            $('.mobile-menu').addClass('active');\r\n            $('html').addClass('ov-hidden');\r\n        } else {\r\n            $('.mobile-menu').removeClass('active');\r\n            $('html').removeClass('ov-hidden');\r\n        }\r\n    });\r\n\r\n    $('.mobile-menu .top-menu a').click(function() {\r\n        $('#hamburger-icon').removeClass('active');\r\n        $('.mobile-menu').removeClass('active');\r\n        $('html').removeClass('ov-hidden');\r\n    });\r\n\r\n    $('.style-tab').click(function() {\r\n        $('.style-tabs').find('.active').removeClass('active');\r\n        $(this).addClass('active');\r\n        $('.styles-elems').find('.styles-elem-item').hide();\r\n        $('#' + $(this).data('switch')).show();\r\n    });\r\n\r\n    $('.top-slider').slick({\r\n        infinite: false,\r\n        slidesToShow: 1,\r\n        arrows: true,\r\n        dots: true,\r\n        slidesToScroll: 1,\r\n        variableWidth: true,\r\n        responsive: [{\r\n            breakpoint: 769,\r\n            settings: {\r\n                arrows: false\r\n            }\r\n        }]\r\n    });\r\n\r\n    let xPos = 0;\r\n\r\n    gsap.timeline()\r\n        .set('.ring', { rotationY: 180, cursor: 'grab' }) //set initial rotationY so the parallax jump happens off screen\r\n        .set('.img', { // apply transform rotations to each image\r\n            rotateY: (i) => i * -36,\r\n            transformOrigin: '50% 50% 500px',\r\n            z: -500,\r\n            backgroundPosition: (i) => getBgPos(i),\r\n            backfaceVisibility: 'hidden'\r\n        })\r\n        .from('.img', {\r\n            duration: 1.5,\r\n            y: 200,\r\n            opacity: 0,\r\n            stagger: 0.1,\r\n            ease: 'expo'\r\n        })\r\n        .add(() => {\r\n            $('.img').on('mouseenter', (e) => {\r\n                let current = e.currentTarget;\r\n                gsap.to('.img', { opacity: (i, t) => (t == current) ? 1 : 0.5, ease: 'power3' })\r\n            })\r\n            $('.img').on('mouseleave', (e) => {\r\n                gsap.to('.img', { opacity: 1, ease: 'power2.inOut' })\r\n            })\r\n        }, '-=0.5')\r\n\r\n    $('.stage').on('mousedown touchstart', dragStart);\r\n    $('.stage').on('mouseup touchend', dragEnd);\r\n\r\n\r\n    function dragStart(e) {\r\n        if (e.touches) e.clientX = e.touches[0].clientX;\r\n        xPos = Math.round(e.clientX);\r\n        gsap.set('.ring', { cursor: 'grabbing' })\r\n        $(window).on('mousemove touchmove', drag);\r\n    }\r\n\r\n\r\n    function drag(e) {\r\n        if (e.touches) e.clientX = e.touches[0].clientX;\r\n\r\n        gsap.to('.ring', {\r\n            rotationY: '-=' + ((Math.round(e.clientX) - xPos) % 360),\r\n            onUpdate: () => { gsap.set('.img', { backgroundPosition: (i) => getBgPos(i) }) }\r\n        });\r\n\r\n        xPos = Math.round(e.clientX);\r\n    }\r\n\r\n\r\n    function dragEnd(e) {\r\n        $(window).off('mousemove touchmove', drag);\r\n        gsap.set('.ring', { cursor: 'grab' });\r\n    }\r\n\r\n\r\n    function getBgPos(i) { //returns the background-position string to create parallax movement in each image\r\n        return (100 - gsap.utils.wrap(0, 360, gsap.getProperty('.ring', 'rotationY') - 180 - i * 36) / 360 * 500) + 'px 0px';\r\n    }\r\n\r\n\r\n    $('.rewiews-slider').slick({\r\n        infinite: true,\r\n        slidesToShow: 4,\r\n        slidesToScroll: 1,\r\n        swipe: false,\r\n        variableWidth: true,\r\n        responsive: [{\r\n                breakpoint: 1201,\r\n                settings: {\r\n                    centerMode: true\r\n                },\r\n            },\r\n            {\r\n                breakpoint: 601,\r\n                settings: {\r\n                    dots: true,\r\n                    arrows: false,\r\n                    swipe: true,\r\n                    centerMode: true\r\n                },\r\n            }\r\n        ]\r\n    });\r\n\r\n\r\n\r\n    $('.btn-close').click(function() {\r\n        $('.mobile-menu').removeClass('active');\r\n        $('#hamburger-icon').removeClass('active');\r\n        $('html').removeClass('ov-hidden');\r\n    });\r\n\r\n\r\n    $('.js-address').click(function(e) {\r\n        e.preventDefault();\r\n        $('#popup-wrap-map').addClass('popup-active');\r\n        $('#popup-map').addClass('popup-active');\r\n    });\r\n\r\n    $('.close-map').click(function(e) {\r\n        e.preventDefault();\r\n        $('#popup-wrap-map').removeClass('popup-active');\r\n        $('#popup-map').removeClass('popup-active');\r\n    });\r\n\r\n    $(document).click(function(event) {\r\n        if (!$(event.target).closest(\"#popup-map,.js-address\").length) {\r\n            $(\"body\").find(\"#popup-wrap-map\").removeClass(\"popup-active\");\r\n            $(\"body\").find(\"#popup-map\").removeClass(\"popup-active\");\r\n        }\r\n    });\r\n\r\n    $('.filter-name').click(function() {\r\n        $(this).parents('.filter-box-item').toggleClass('active');\r\n        $(this).siblings('.filter-inputs').slideToggle();\r\n    });\r\n\r\n\r\n    $(\".js-range-slider\").ionRangeSlider({\r\n        type: \"double\",\r\n        min: 0,\r\n        max: 5000,\r\n        from: 250,\r\n        to: 1800,\r\n        grid: false,\r\n        onChange: function(data) {\r\n            $('.start-price').val(data.from);\r\n            $('.finish-price').val(data.to_pretty);\r\n        }\r\n    });\r\n\r\n    $('.range-slider-input').keyup(function() {\r\n        let inputId = $(this).attr('id');\r\n        let inputValue = $(this).val();\r\n        let my_range = $(\".js-range-slider\").data(\"ionRangeSlider\");\r\n        if (inputId === 'slider-input-from') {\r\n            my_range.update({\r\n                from: inputValue\r\n            });\r\n        } else {\r\n            my_range.update({\r\n                to: inputValue\r\n            });\r\n        }\r\n    });\r\n\r\n    $('.btn-filter').click(function() {\r\n        $(this).siblings('.filter').slideToggle();\r\n    });\r\n\r\n\r\n\r\n\r\n});\r\n\r\n$(window).on('load', function() {\r\n    if ($(window).width() < '992') {\r\n        $('.menu .sub').click(function(e) {\r\n            e.preventDefault();\r\n            if ($(this).hasClass('active')) {\r\n                $(this).children('.sub-menu').slideUp();\r\n                $(this).removeClass('active');\r\n            } else {\r\n                $('.menu .sub').removeClass('active');\r\n                $(this).addClass('active');\r\n                $('.sub-menu').slideUp();\r\n                $(this).children('.sub-menu').slideDown();\r\n            }\r\n\r\n\r\n        });\r\n    }\r\n});\r\n\r\n$(window).on('load resize', function() {\r\n\r\n    var width = $(window).width();\r\n\r\n    if (width < '992') {\r\n\r\n        $('.menu').insertAfter($('.mobile-menu .logo'));\r\n        $('.header-top__right').insertAfter($('.mobile-menu .menu'));\r\n    }\r\n\r\n    if (width > '993') {\r\n        $('.sub').removeClass('sub-js');\r\n        $('.mobile-menu  .menu').appendTo($('.header-bottom .container'));\r\n    }\r\n\r\n    if (width > '950') {\r\n        $('.card-wrap__left h1').prependTo($('.card-wrap__right'))\r\n    }\r\n\r\n    if (width < '951') {\r\n        $('.card-wrap__right h1').prependTo($('.card-wrap__left'))\r\n    }\r\n\r\n});"]}